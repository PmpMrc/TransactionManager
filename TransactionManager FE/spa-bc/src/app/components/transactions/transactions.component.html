<app-alert-section></app-alert-section>
<div class="title-head">
  GESTIONE TRANSAZIONI
</div>
<div class="subtitle">
  Scegliere un utente dalla lista sottostante per visualizzare e gestire le transazioni dell'utente.
</div>
<div class="blank-row">
</div>
<div class="centered" *ngIf = "users != undefined && users.length > 0">
  <select [(ngModel)] = "selectedUser" (change) = "userSelected()">
    <option *ngFor="let user of users" [ngValue]="user">{{user.name}} {{user.surname}}</option>
  </select>
</div>
<div class="centered" *ngIf = "users == undefined || users.length == 0">
  Nessun utente presente nel sistema.
</div>

<div class="blank-row"></div>
<div class="row no-gutters" *ngIf="showTransactionTable">
  <div class="col-sm-4 col-md-4 col-lg-4">
    <div class="padded">
      <a a class = "btn btn-bc btn-lg" role = "button" (click) = "showInsertSection()">Nuovo inserimento</a>
      <app-transactions-table [transactions] = "transactions" (selected) = "showDetailSection($event)"></app-transactions-table>
    </div>
  </div>
  <div class="col-sm-2 col-md-2 col-lg-2"></div>
  <div class="col-sm-6 col-md-6 col-lg-6">
    <div class="blank-row"></div>
    <div *ngIf="showInsert">
      <app-transactions-insert (saved) = "insertTransaction($event)"></app-transactions-insert>
    </div>
    <div *ngIf="showDetail">
      <app-transactions-detail (modified) = "updateTransaction($event)" [transaction] = "transactionSelected"></app-transactions-detail>
    </div>
  </div>
  <div class="col-sm-1 col-md-1 col-lg-1"></div>
</div>
